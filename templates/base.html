<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Blockchain Web{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style id="theme-style">
        /* Default: Tema Biru Elektrik */
        :root {
            --primary: #00f3ff;
            --text: #00f3ff;
            --bg-gradient: radial-gradient(circle at 20% 30%, rgba(0, 243, 255, 0.1), #000), radial-gradient(circle at 80% 70%, rgba(0, 170, 255, 0.15), #000);
            --container-bg: rgba(0, 20, 30, 0.6);
            --container-shadow: 
                0 0 20px rgba(0, 243, 255, 0.4),
                0 0 40px rgba(0, 170, 255, 0.3),
                inset 0 0 15px rgba(0, 243, 255, 0.2);
            --border: rgba(0, 243, 255, 0.3);
            --button-color: #00f3ff;
            --button-border: #00f3ff;
            --checkmark-color: #00f3ff;
        }

        /* Dark Mode */
        body.dark-mode {
            --primary: #4CAF50;
            --text: #e0e0e0;
            --bg-gradient: linear-gradient(135deg, #1e2024 0%, #2b2d3e 100%);
            --container-bg: rgba(30, 32, 40, 0.8);
            --container-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 20px rgba(40, 167, 69, 0.3);
            --border: rgba(255, 255, 255, 0.1);
            --button-color: #007bff;
            --button-border: #007bff;
            --checkmark-color: #28a745;
        }

        body {
            font-family: 'Orbitron', 'Segoe UI', sans-serif;
            background: var(--bg-gradient);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: var(--text);
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 40px auto;
            background: var(--container-bg);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: var(--container-shadow);
            border: 1px solid var(--border);
            padding: 30px;
            position: relative;
        }

        h1, h2, h3 {
            color: var(--primary);
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.7);
        }

        p, label, td, th {
            color: #a0e8ff;
        }

        /* Tombol Ganti Tema */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 243, 255, 0.2);
            color: var(--primary);
            border: 1px solid var(--primary);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
            z-index: 1000;
        }

        .theme-toggle:hover {
            background: rgba(0, 243, 255, 0.4);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        /* Tombol Umum */
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: transparent;
            color: var(--button-color);
            border: 2px solid var(--button-border);
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px 5px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background: rgba(0, 243, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
            transform: translateY(-2px);
        }

        /* Animasi */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');
    </style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Tombol Ganti Tema -->
    <button class="theme-toggle" onclick="switchTheme()">
        <i class="fas fa-moon"></i> Switch to Dark
    </button>

    <!-- Konten Halaman -->
    <div class="container">
        {% block content %}{% endblock %}
    </div>

    <!-- Script Manajemen Tema -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const savedTheme = localStorage.getItem("app-theme");
            if (savedTheme === "dark") {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-toggle').innerHTML = '<i class="fas fa-sun"></i> Switch to Electric';
            } else {
                document.body.classList.remove('dark-mode');
                document.querySelector('.theme-toggle').innerHTML = '<i class="fas fa-moon"></i> Switch to Dark';
            }
        });

        function switchTheme() {
            const body = document.body;
            const button = document.querySelector('.theme-toggle');

            if (body.classList.contains('dark-mode')) {
                body.classList.remove('dark-mode');
                button.innerHTML = '<i class="fas fa-moon"></i> Switch to Dark';
                localStorage.setItem("app-theme", "electric");
            } else {
                body.classList.add('dark-mode');
                button.innerHTML = '<i class="fas fa-sun"></i> Switch to Electric';
                localStorage.setItem("app-theme", "dark");
            }
        }
    </script>
<!-- Notifikasi Toast -->
<div id="toast" class="toast">
    <div id="toast-message"></div>
</div>

<style>
    /* Toast Notification */
    .toast {
        visibility: hidden;
        min-width: 300px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 12px 20px;
        position: fixed;
        z-index: 9999;
        right: 20px;
        top: -100px;
        font-size: 16px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        transition: top 0.5s ease, opacity 0.5s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .toast.success {
        background-color: #28a745;
        border-left: 4px solid #4CAF50;
    }

    .toast.error {
        background-color: #dc3545;
        border-left: 4px solid #f44336;
    }

    .toast.show {
        visibility: visible;
        top: 20px;
        opacity: 1;
    }

    .toast::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        margin-left: -10px;
        border: 5px solid transparent;
        border-top: 5px solid #333;
    }

    .toast.success::after {
        border-top: 5px solid #28a745;
    }

    .toast.error::after {
        border-top: 5px solid #dc3545;
    }
</style>

<script>
    // Fungsi untuk tampilkan toast
    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const toastMsg = document.getElementById('toast-message');
        
        toast.className = 'toast ' + type;
        toastMsg.textContent = message;
        toast.classList.add('show');

        // Hilang setelah 5 detik
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                toast.className = 'toast';
            }, 500);
        }, 5000);
    }

    // Otomatis tampilkan toast jika ada pesan dari Flask
    document.addEventListener("DOMContentLoaded", function () {
        const successMsg = "{{ success }}";
        const errorMsg = "{{ error }}";

        if (successMsg && successMsg !== "None") {
            showToast(successMsg, 'success');
        }
        if (errorMsg && errorMsg !== "None") {
            showToast(errorMsg, 'error');
        }
    });
</script>
</body>
</html>